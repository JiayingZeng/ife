<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body data-ev="8">
<p>挑战一个mini $，它和之前的$是不兼容的，它应该是document.querySelector的功能子集，在不直接使用document.querySelector的情况下实现</p>
<a class="classa">.classa</a>
<a id="adom">adom</a>
<p data-log="1">data-log</p>
<input type="date" data-time="2015">
<script>
    // 实现一个简单的Query
    function $(selector) {
        var el = document.body;
        var className = new RegExp('^[.]','g');
        var idName = new RegExp('^#', 'gi');
        var tagName = new RegExp('^[^(#.[)]','g');
        var attributeName = new RegExp('^[\[]', 'g');
        /*if(className.test(selector)) {
            return document.getElementsByClassName(selector.replace('.',''));
        }
        if(idName.test(selector)) {
            return document.getElementById(selector.replace('#',''));
        }
        if (tagName.test(selector)) {
            return document.getElementsByTagName(selector);
        }*/
        if(attributeName.test(selector)) {
            return el.getAttribute(selector.replace(/^\[|\]$/g, ''));
        }
    }

    // 可以通过样式名称获取DOM对象，例如
    /*console.log($(".classa")); // 返回第一个样式定义包含classa的对象

    // 可以通过id获取DOM对象，通过#标示，例如
    console.log($("#adom")); // 返回id为adom的DOM对象

    // 可以通过tagName获取DOM对象，例如
    console.log($("a")); // 返回第一个<a>对象*/


    console.log(document.body.getAttribute('data-time'));
    // 可以通过attribute匹配获取DOM对象，例如
    $("[data-log]"); // 返回第一个包含属性data-log的对象

    $("[data-time=2015]"); // 返回第一个包含属性data-time且值为2015的对象

       /*
    // 可以通过简单的组合提高查询便利性，例如
    $("#adom .classa"); // 返回id为adom的DOM所包含的所有子节点中，第一个样式定义包含classa的对象*/
</script>
</body>
</html>